---
import Layout from '../../../../layouts/Layout.astro';
import type { InferGetStaticPropsType, GetStaticPaths } from 'astro';
import { getCollection } from 'astro:content';

type Props = InferGetStaticPropsType<typeof getStaticPaths>;

export const getStaticPaths = (async () => {
  const electoralPeriods = await getCollection('electoralPeriods');
  return electoralPeriods.map(electoralPeriod => ({
    params: { electoralPeriod: electoralPeriod.id },
    props: { electoralPeriod: electoralPeriod.data}
  }));
}) satisfies GetStaticPaths;

const { electoralPeriod } = Astro.props as Props;

---
<Layout electoralPeriod={electoralPeriod}>
  ...
</Layout>
